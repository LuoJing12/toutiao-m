(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d8ee2a5"],{"0403":function(t,e,n){},2423:function(t,e,n){"use strict";n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));n("d3b7");var a=n("b775");function s(t){return Object(a["a"])({url:"/v1_0/articles",method:"get",params:t})}function i(t){
//! 图片加载出错,第一种解决可以把数据写死
return"8114"===t?new Promise((function(t,e){t({data:{data:{art_id:"8114",title:"利用jmap和MAT等工具查看JVM运行时堆内存",pubdate:"2019-03-11 09:00:00",aut_id:"1111",content:'<p><span style="font-size: 18pt; font-family: \'Microsoft YaHei\'; color: #df4998;">jmap</span></p>&#13;\n<p><span style="font-size: 18px; font-family: \'Microsoft YaHei\';">JDK自带了一些工具可以帮助我们查看JVM运行的堆内存情况，常用的是<strong>jmap</strong>命令</span></p>&#13;\n<p><img src="https://images2018.cnblogs.com/blog/874963/201808/874963-20180830161107932-722610954.png" alt="" /></p>&#13;\n<p><span style="font-size: 18px; font-family: \'Microsoft YaHei\';">jmap -heap &lt;pid&gt;　　打印堆的使用情况</span></p>&#13;\n<p><img src="https://images2018.cnblogs.com/blog/874963/201808/874963-20180830161259670-1917091152.png" alt="" /></p>&#13;\n<p><span style="font-size: 18px; font-family: \'Microsoft YaHei\';">那么，从这个输出中我们也可以大致看出堆的结构，分为Young Generation （年轻代） 和 Old Generation （老年代）</span></p>&#13;\n<p><span style="font-size: 18px; font-family: \'Microsoft YaHei\';">Young Generation又被划分为：Eden Space ， From Space 和 To Space</span></p>&#13;\n<p><span style="font-size: 18px; font-family: \'Microsoft YaHei\';">可以看到这里To区是干净的，还未被使用，From区已经使用了95%了</span></p>&#13;\n<p><span style="font-size: 18px; font-family: \'Microsoft YaHei\';">jmap -histo[:live] &lt;pid&gt;　　打印类的实例数量、占用的内存、类的名称，通常我们并不需要看所有的，只需要看前几条即可</span></p>&#13;\n<p><img src="https://images2018.cnblogs.com/blog/874963/201808/874963-20180830162757939-575176272.png" alt="" /></p>&#13;\n<p><span style="font-size: 18px; font-family: \'Microsoft YaHei\';">jmap -dump:live,format=b,file=heap.bin &lt;pid&gt;　　</span></p>&#13;\n<p><span style="font-size: 18px; font-family: \'Microsoft YaHei\';">以hprof二进制格式dump堆的使用情况（PS：相当于生成一个快照，后续我们可以对这个快照文件进行分析）</span></p>&#13;\n<p><img src="https://images2018.cnblogs.com/blog/874963/201808/874963-20180830163420274-1709483353.png" alt="" /></p>&#13;\n<p><span style="font-size: 18pt; color: #df4998;">Memory Analyzer (MAT)</span></p>&#13;\n<p><span style="font-size: 18px; font-family: \'Microsoft YaHei\';">文件dump下来以后，可以使用Eclipse的MAT插件进行查看</span></p>&#13;\n<p><span style="font-size: 18px; font-family: \'Microsoft YaHei\';">如果日常开发用的是eclipse的话，可以直接安装这个插件，如果不是的话，这个插件也可以独立运行</span></p>&#13;\n<p><span style="font-size: 18px; font-family: \'Microsoft YaHei\';"><a href="https://www.eclipse.org/mat/" target="_blank">https://www.eclipse.org/mat/</a></span></p>&#13;\n<p><span style="font-size: 18px; font-family: \'Microsoft YaHei\';"><a href="https://www.eclipse.org/mat/downloads.php" target="_blank">https://www.eclipse.org/mat/downloads.php</a></span></p>&#13;\n<p><span style="font-size: 18px; font-family: \'Microsoft YaHei\';">解压之后双击MemoryAnalyzer.exe即可运行</span></p>&#13;\n<p><img src="https://images2018.cnblogs.com/blog/874963/201808/874963-20180830164047157-1657211213.png" alt="" /></p>&#13;\n<p><span style="font-size: 18px; font-family: \'Microsoft YaHei\';">打开刚才的heap.bin文件</span></p>&#13;\n<p><img src="https://images2018.cnblogs.com/blog/874963/201808/874963-20180830164252096-1116314438.png" alt="" /></p>&#13;\n<p><img src="https://images2018.cnblogs.com/blog/874963/201808/874963-20180830164332465-1304027200.png" alt="" /></p>&#13;\n<p><span style="font-size: 18px; font-family: \'Microsoft YaHei\';">可以看到下面有三个选项卡，包括可以执行的操作和报表</span></p>&#13;\n<p><span style="font-size: 18px; font-family: \'Microsoft YaHei\';">先看第一个<strong>Histogram</strong></span></p>&#13;\n<p><img src="https://images2018.cnblogs.com/blog/874963/201808/874963-20180830164631633-1733215997.png" alt="" /></p>&#13;\n<p><span style="font-size: 18px; font-family: \'Microsoft YaHei\';">由于这里是随便运行的一个工程，并没有出现内存泄漏之类的问题，所以这里看到的都是一些基础的java类</span></p>&#13;\n<p><strong><span style="font-size: 18px; font-family: \'Microsoft YaHei\';">查看引用</span></strong></p>&#13;\n<p><img src="https://images2018.cnblogs.com/blog/874963/201808/874963-20180830164912757-994940077.png" alt="" /></p>&#13;\n<p><span style="font-size: 18px; font-family: \'Microsoft YaHei\';"><strong>Dominator Tree</strong> 可以看到biggest object以及它们所占内存的比例</span></p>&#13;\n<p><img src="https://images2018.cnblogs.com/blog/874963/201808/874963-20180830165127054-2121722725.png" alt="" /></p>&#13;\n<p><span style="font-size: 18px; font-family: \'Microsoft YaHei\';">我们一级一级的找，可以找到源文件，然后分析代码，最终定位到问题之根源</span></p>&#13;\n<p><span style="font-size: 18pt; font-family: \'Microsoft YaHei\'; color: #df4998;">jconsole</span></p>&#13;\n<p><span style="font-family: \'Microsoft YaHei\'; font-size: 18px;">可以查看本地的进程，也可以查看远程主机上的进程</span></p>&#13;\n<p><img src="https://images2018.cnblogs.com/blog/874963/201808/874963-20180830170223337-733059807.png" alt="" /></p>&#13;\n<p><span style="font-size: 18px; font-family: \'Microsoft YaHei\';">例如：jconsole 192.168.102.16:9105</span></p>&#13;\n<p><img src="https://images2018.cnblogs.com/blog/874963/201808/874963-20180830170310794-1870938472.png" alt="" /></p>&#13;\n<p><img src="https://images2018.cnblogs.com/blog/874963/201808/874963-20180830170439172-187863062.png" alt="" /></p>&#13;\n<p><span style="font-size: 18px; font-family: \'Microsoft YaHei\';">或者本地</span></p>&#13;\n<p><img src="https://images2018.cnblogs.com/blog/874963/201808/874963-20180830170449719-421128500.gif" alt="" /></p>&#13;\n<p><span style="font-size: 18pt; color: #df4998; font-family: \'Microsoft YaHei\';">其它</span></p>&#13;\n<p><img src="https://images2018.cnblogs.com/blog/874963/201808/874963-20180830170755595-320946629.png" alt="" /></p>&#13;\n<p><span style="font-size: 18pt; color: #df4998; font-family: \'Microsoft YaHei\';">参考</span></p>&#13;\n<p><span style="font-size: 16px; font-family: \'Microsoft YaHei\';"><a href="https://blog.csdn.net/xiaojia1100/article/details/78675960" target="_blank">https://blog.csdn.net/xiaojia1100/article/details/78675960</a></span></p>&#13;\n<p><span style="font-size: 16px; font-family: \'Microsoft YaHei\';"><a href="https://www.cnblogs.com/kongzhongqijing/articles/3621163.html" target="_blank">https://www.cnblogs.com/kongzhongqijing/articles/3621163.html</a></span></p>&#13;\n<p><span style="font-size: 16px; font-family: \'Microsoft YaHei\';"><a href="https://blog.csdn.net/alli0968/article/details/52460008" target="_blank">https://blog.csdn.net/alli0968/article/details/52460008</a></span></p>&#13;\n<p><span style="font-size: 16px; font-family: \'Microsoft YaHei\';"><a href="https://blog.csdn.net/u011512180/article/details/51874097" target="_blank">https://blog.csdn.net/u011512180/article/details/51874097</a></span></p>&#13;\n<p> </p>',aut_name:"黑马先锋",aut_photo:"http://toutiao.itheima.net/images/user_head.jpg",is_followed:!1,is_collected:!1,attitude:-1,comm_count:1,read_count:244,like_count:0},message:"OK"}})})):Object(a["a"])({url:"/v1_0/articles/"+t,method:"get"});//! 图片加载出错,第二种解决可以设置 <meta name="referrer" content="no-referrer" />
}var r=function(t){return Object(a["a"])({method:"POST",url:"/v1_0/article/collections",data:{target:t}})},o=function(t){return Object(a["a"])({method:"DELETE",url:"/v1_0/article/collections/".concat(t)})}},"7abe":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-container"},[n("van-nav-bar",{staticClass:"page-nav-bar",attrs:{fixed:""}},[n("van-button",{staticClass:"search-btn",attrs:{slot:"title",icon:"search",round:"",type:"info",size:"small"},on:{click:function(e){return t.$router.push("/search")}},slot:"title"},[t._v("搜索")])],1),n("van-tabs",{staticClass:"channel-tabs",attrs:{animated:"",swipeable:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[t._l(t.channels,(function(e,a){return n("van-tab",{key:a,attrs:{title:e.name}},[n("article-list",{attrs:{channel:e,active:t.active}})],1)})),n("div",{staticClass:"placeholder",attrs:{slot:"nav-right"},slot:"nav-right"}),n("div",{staticClass:"hamburger-btn",attrs:{slot:"nav-right"},on:{click:function(e){t.show=!0}},slot:"nav-right"},[n("i",{staticClass:"toutiao toutiao-gengduo"})])],2),n("van-popup",{style:{height:"100%"},attrs:{position:"bottom",closeable:"","close-icon-position":"top-left"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("channel-edit",{attrs:{channels:t.channels,active:t.active},on:{add:function(e){return t.channels.push(e)},"updata-active":t.handleUpdataActive}})],1)],1)},s=[],i=(n("96cf"),n("1da1")),r=n("b775");function o(){return Object(r["a"])({method:"get",url:"/v1_0/user/channels"})}function c(){return Object(r["a"])({url:"/v1_0/channels",method:"get"})}function l(t){return Object(r["a"])({url:"/v1_0/user/channels",method:"put",data:t})}var p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"listRef",staticClass:"article-list"},[n("van-pull-refresh",{attrs:{"success-text":t.refreshTip},on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了",error:t.error},on:{"update:error":function(e){t.error=e},load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(t,e){return n("article-item",{key:e,attrs:{article:t}})})),1)],1)],1)},f=[],u=n("2909"),h=n("2423"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-cell",{attrs:{title:t.article.title},on:{click:function(e){return t.$router.push("./article/"+t.article.art_id)}}},[1===t.article.cover.type?n("van-image",{staticClass:"right-cover",attrs:{slot:"default",src:t.article.cover.images[0]},slot:"default"}):t._e(),3===t.article.cover.type?n("div",{staticClass:"cover-wrap",attrs:{slot:"label"},slot:"label"},t._l(t.article.cover.images,(function(t,e){return n("van-image",{key:e,attrs:{src:t}})})),1):t._e(),n("div",{attrs:{slot:"label"},slot:"label"},[n("span",[t._v(t._s(t.article.aut_name))]),n("span",[t._v(t._s(t.article.comm_count)+"评论")]),n("span",[t._v(t._s(t._f("relativeTime")(t.article.pubdate)))])])],1)],1)},m=[],g={name:"",props:{article:{type:Object,required:!0}},data:function(){return{}},components:{},created:function(){},mounted:function(){},methods:{}},b=g,v=(n("ab84"),n("2877")),y=Object(v["a"])(b,d,m,!1,null,"780b0576",null),_=y.exports,w={name:"",props:{channel:{type:Object,required:!0}},data:function(){return{list:[],loading:!1,finished:!1,timestamp:Date.now(),error:!1,refreshing:!1,refreshTip:""}},components:{ArticleItem:_},activated:function(){console.log("actived")},deactivated:function(){console.log("deactived")},created:function(){},mounted:function(){this.$refs.listRef.onscroll=function(){}},methods:{onLoad:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,s,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h["d"])({channel_id:t.channel.id,timestamp:t.timestamp});case 3:a=e.sent,s=a.data.data,i=s.results,r=s.pre_timestamp,(n=t.list).push.apply(n,Object(u["a"])(i)),t.timestamp=r,t.loading=!1,null!=r&&0!==i.length||(t.finished=!0),e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](0),t.error=!0,t.loading=!1;case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))()},onRefresh:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h["d"])({channel_id:t.channel.id,timestamp:Date.now()});case 3:a=e.sent,s=a.data.data.results,JSON.parse('{username:"zs"}'),(n=t.list).unshift.apply(n,Object(u["a"])(s)),t.refreshing=!1,t.refreshTip="刷新成功",e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),t.refreshing=!1,t.refreshTip="刷新失败";case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()}}},x=w,M=(n("8bc8"),Object(v["a"])(x,p,f,!1,null,"147d48f4",null)),k=M.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"channel-edit"},[n("van-cell",{attrs:{title:"我的频道"}},[n("van-button",{attrs:{round:"",type:"danger",size:"small",plain:""},on:{click:function(e){t.isEdit=!t.isEdit}}},[t._v(t._s(t.isEdit?"完成":"编辑"))])],1),n("van-grid",{attrs:{gutter:6}},t._l(t.channels,(function(e,a){return n("van-grid-item",{key:a,class:{active:a===t.active},attrs:{text:e.name},on:{click:function(e){return t.handleDeleteMyChannel(a)}}},[t.isEdit?n("van-icon",{attrs:{slot:"icon",name:"close"},slot:"icon"}):t._e()],1)})),1),n("van-cell",{attrs:{title:"我的频道"}}),n("van-grid",{attrs:{gutter:6}},t._l(t.recommendChannel,(function(e,a){return n("van-grid-item",{key:a,attrs:{icon:"plus",text:e.name},on:{click:function(n){return t.handAddMyChannel(e)}}})})),1)],1)},z=[],Y=(n("4de4"),n("7db0"),n("a434"),n("a9e3"),{name:"",props:{channels:{type:Array,required:!0},active:{type:Number,required:!0}},data:function(){return{allChannels:[],isEdit:!1}},computed:{recommendChannel:function(){var t=this;return this.allChannels.filter((function(e){var n=t.channels.find((function(t){return t.id===e.id}));return!n}))}},components:{},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:n=e.sent,t.allChannels=n.data.data.channels;case 4:case"end":return e.stop()}}),e)})))()},mounted:function(){},methods:{handAddMyChannel:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.channels.push(t);case 1:case"end":return n.stop()}}),n)})))()},handleDeleteMyChannel:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.isEdit?(t<=e.active&&e.$emit("updata-active",e.active-1,!0),e.channels.splice(t,1)):e.$emit("updata-active",t);case 1:case"end":return n.stop()}}),n)})))()}},watch:{channels:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$store.state.token){t.next=5;break}return t.next=3,l({channels:e.channels});case 3:t.next=6;break;case 5:localStorage.toutiao_channels=JSON.stringify(e.channels);case 6:case"end":return t.stop()}}),t)})))()}}}),O=Y,H=(n("b65a"),Object(v["a"])(O,j,z,!1,null,"553906eb",null)),E=H.exports,A={components:{ArticleList:k,ChannelEdit:E},name:"",data:function(){return{active:0,channels:[],show:!1}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:if(n=e.sent,t.$store.state.token)t.channels=n.data.data.channels;else try{t.channels=JSON.parse(localStorage.toutiao_channels)}catch(a){t.channels=n.data.data.channels}case 4:case"end":return e.stop()}}),e)})))()},mounted:function(){},methods:{handleUpdataActive:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.active=t,this.show=e}}},C=A,N=(n("e00b"),Object(v["a"])(C,a,s,!1,null,"c0a31ad6",null));e["default"]=N.exports},"7db0":function(t,e,n){"use strict";var a=n("23e7"),s=n("b727").find,i=n("44d2"),r=n("ae40"),o="find",c=!0,l=r(o);o in[]&&Array(1)[o]((function(){c=!1})),a({target:"Array",proto:!0,forced:c||!l},{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),i(o)},8930:function(t,e,n){},"8bc8":function(t,e,n){"use strict";var a=n("8930"),s=n.n(a);s.a},a434:function(t,e,n){"use strict";var a=n("23e7"),s=n("23cb"),i=n("a691"),r=n("50c4"),o=n("7b0b"),c=n("65f0"),l=n("8418"),p=n("1dde"),f=n("ae40"),u=p("splice"),h=f("splice",{ACCESSORS:!0,0:0,1:2}),d=Math.max,m=Math.min,g=9007199254740991,b="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!u||!h},{splice:function(t,e){var n,a,p,f,u,h,v=o(this),y=r(v.length),_=s(t,y),w=arguments.length;if(0===w?n=a=0:1===w?(n=0,a=y-_):(n=w-2,a=m(d(i(e),0),y-_)),y+n-a>g)throw TypeError(b);for(p=c(v,a),f=0;f<a;f++)u=_+f,u in v&&l(p,f,v[u]);if(p.length=a,n<a){for(f=_;f<y-a;f++)u=f+a,h=f+n,u in v?v[h]=v[u]:delete v[h];for(f=y;f>y-a+n;f--)delete v[f-1]}else if(n>a)for(f=y-a;f>_;f--)u=f+a-1,h=f+n-1,u in v?v[h]=v[u]:delete v[h];for(f=0;f<n;f++)v[f+_]=arguments[f+2];return v.length=y-a+n,p}})},a9e3:function(t,e,n){"use strict";var a=n("83ab"),s=n("da84"),i=n("94ca"),r=n("6eeb"),o=n("5135"),c=n("c6b6"),l=n("7156"),p=n("c04e"),f=n("d039"),u=n("7c73"),h=n("241c").f,d=n("06cf").f,m=n("9bf2").f,g=n("58a8").trim,b="Number",v=s[b],y=v.prototype,_=c(u(y))==b,w=function(t){var e,n,a,s,i,r,o,c,l=p(t,!1);if("string"==typeof l&&l.length>2)if(l=g(l),e=l.charCodeAt(0),43===e||45===e){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:a=2,s=49;break;case 79:case 111:a=8,s=55;break;default:return+l}for(i=l.slice(2),r=i.length,o=0;o<r;o++)if(c=i.charCodeAt(o),c<48||c>s)return NaN;return parseInt(i,a)}return+l};if(i(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var x,M=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof M&&(_?f((function(){y.valueOf.call(n)})):c(n)!=b)?l(new v(w(e)),n,M):w(e)},k=a?h(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;k.length>j;j++)o(v,x=k[j])&&!o(M,x)&&m(M,x,d(v,x));M.prototype=y,y.constructor=M,r(s,b,M)}},ab84:function(t,e,n){"use strict";var a=n("eb32"),s=n.n(a);s.a},b65a:function(t,e,n){"use strict";var a=n("0403"),s=n.n(a);s.a},e00b:function(t,e,n){"use strict";var a=n("e25f"),s=n.n(a);s.a},e25f:function(t,e,n){},eb32:function(t,e,n){}}]);
//# sourceMappingURL=chunk-7d8ee2a5.dc806082.js.map